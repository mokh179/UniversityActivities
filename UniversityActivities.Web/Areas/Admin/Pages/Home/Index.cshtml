@page
@model UniversityActivities.Web.Areas.Admin.Pages.Home.IndexModel
@{
}
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/patternomaly@1.3.2/dist/patternomaly.min.js"></script>
<section class="animate-fade-in px-6 pb-8">
    <!-- Welcome + KPI Cards -->
    <div class="mb-4 space-y-4">
        <!-- Welcome banner -->
        <div class="rounded-2xl border border-neutral-200 bg-gradient-green-2 p-5 shadow-sm dark:border-neutral-700 dark:bg-gray-900">
            <div class="flex justify-between items-center">
                <div class="flex flex-col justify-between gap-3">
                    <h2 class="text-xl font-extrabold tracking-tight text-white sm:text-2xl lg:text-2xl">
                        مرحباً بكم في لوحة تحكم منصة الأنشطة
                    </h2>
                    <p class="text-white text-sm">
                        نظرة عامة علي أداء المنصة
                    </p>

                </div>
                <div class="flex items-center gap-3 bg-white/10 backdrop-blur-sm px-4 py-2.5 rounded-xl">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="lucide lucide-clock text-white" aria-hidden="true">
                        <path d="M12 6v6l4 2"></path>
                        <circle cx="12" cy="12" r="10"></circle>
                    </svg>
                    <div id="datetime-widget">
                        <div class="flex items-center gap-2 text-white text-sm">
                            <span class="text-white/90" id="current-day">الأربعاء</span><span class="text-white/90">•</span><span class="text-white/90" id="current-date">21/1/2026</span>
                        </div>
                        <time id="current-time" class="text-white/90 text-xs mt-0.5 font-mono tracking-wider">10:42:33</time>
                    </div>
                </div>
            </div>

        </div>
        <!-- KPI Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <div class="bg-gradient-to-br from-main-600 to-main-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all hover:scale-105 duration-300">
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <p class="text-white/90 text-sm mb-3">إجمالي إجمالي الأنشطة و الفعاليات</p>
                        <h3 class="text-white">15</h3>
                    </div>
                    <div class="bg-white/20 backdrop-blur-sm p-4 rounded-xl">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar text-white"
                             aria-hidden="true">
                            <path d="M8 2v4"></path>
                            <path d="M16 2v4"></path>
                            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                            <path d="M3 10h18"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="bg-gradient-to-br from-info-500 to-info-600  p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all hover:scale-105 duration-300">
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <p class="text-white/90 text-sm mb-3">إجمالي إجمالي الأندية الطلابية</p>
                        <h3 class="text-white">48</h3>
                    </div>
                    <div class="bg-white/20 backdrop-blur-sm p-4 rounded-xl">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users text-white"
                             aria-hidden="true">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                            <path d="M16 3.128a4 4 0 0 1 0 7.744"></path>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="bg-gradient-to-br from-gold-500 to-gold-600  p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all hover:scale-105 duration-300">
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <p class="text-white/90 text-sm mb-3">إجمالي التقارير</p>
                        <h3 class="text-white">23</h3>
                    </div>
                    <div class="bg-white/20 backdrop-blur-sm p-4 rounded-xl">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text text-white"
                             aria-hidden="true">
                            <path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z">
                            </path>
                            <path d="M14 2v5a1 1 0 0 0 1 1h5"></path>
                            <path d="M10 9H8"></path>
                            <path d="M16 13H8"></path>
                            <path d="M16 17H8"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="bg-gradient-to-br from-lavender-500 to-lavender-600  p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all hover:scale-105 duration-300">
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <p class="text-white/90 text-sm mb-3">إجمالي المستخدمين</p>
                        <h3 class="text-white">342</h3>
                    </div>
                    <div class="bg-white/20 backdrop-blur-sm p-4 rounded-xl">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up text-white"
                             aria-hidden="true">
                            <path d="M16 7h6v6"></path>
                            <path d="m22 7-8.5 8.5-5-5L2 17"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>


        <!-- Charts -->
        <div class="grid grid-cols-1 gap-4">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-2 border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300">
                <div class="flex items-center justify-between mb-6 flex-wrap gap-4">
                    <div class="flex items-center gap-3">
                        <div class="bg-gradient-to-br from-main-600 to-main-700 p-3 rounded-xl shadow-md">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-trending-up text-white" aria-hidden="true">
                                <path d="M16 7h6v6"></path>
                                <path d="m22 7-8.5 8.5-5-5L2 17"></path>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-gray-800 dark:text-white text-xl font-bold">
                                إحصاءات الأنشطة و الفعاليات و الأندية الطلابية و
                                التقارير
                            </h3>
                            <p class="text-gray-500 dark:text-gray-400 text-sm">نظرة شاملة على الأداء الشهري</p>
                        </div>
                    </div>
                    <div class="relative" id="yearDropdownContainer">
                        <button type="button" id="yearDropdownBtn"
                                class="flex items-center gap-2 bg-gray-50 dark:bg-gray-700 px-4 py-2 rounded-lg border-2 border-gray-200 dark:border-gray-600 cursor-pointer hover:border-main-600/50 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-calendar text-main-600 shrink-0" aria-hidden="true">
                                <path d="M8 2v4"></path>
                                <path d="M16 2v4"></path>
                                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                <path d="M3 10h18"></path>
                            </svg>
                            <span id="yearSelectValue" class="text-gray-700 dark:text-gray-200 text-sm">2026</span>
                            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform duration-200" id="yearDropdownArrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <!-- Custom Dropdown Menu -->
                        <div id="yearDropdownMenu" class="hidden absolute top-full mt-1 ltr:right-0 rtl:left-0 z-50 min-w-[100px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border-2 border-gray-200 dark:border-gray-600 overflow-hidden">
                            <div class="year-option px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-main-600 hover:text-white cursor-pointer transition-colors" data-value="2026">2026</div>
                            <div class="year-option px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-main-600 hover:text-white cursor-pointer transition-colors" data-value="2025">2025</div>
                            <div class="year-option px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-main-600 hover:text-white cursor-pointer transition-colors" data-value="2024">2024</div>
                            <div class="year-option px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-main-600 hover:text-white cursor-pointer transition-colors" data-value="2023">2023</div>
                            <div class="year-option px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-main-600 hover:text-white cursor-pointer transition-colors" data-value="2022">2022</div>
                        </div>
                    </div>
                </div>
                <div class="bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 p-4 rounded-lg">
                    <div style="width: 100%; height: 320px;">
                        <canvas id="mainStatsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Latest Innovations Section -->
        <div class="grid grid-cols-1 gap-4">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-2 border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300">
                <div class="mb-6 pb-4 border-b-2 border-gray-200 dark:border-gray-700">
                    <h3 class="text-gray-900 dark:text-white text-2xl font-bold mb-1">أحدث الإضافات</h3>
                    <p class="text-gray-500 dark:text-gray-400">آخر التحديثات والفعاليات</p>
                </div>
                <div class="space-y-3">
                    <div class="group flex items-start gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-main-600/30 dark:hover:border-main-600/50 hover:bg-gradient-to-r hover:from-main-600/5 hover:to-transparent dark:hover:from-main-600/10 transition-all duration-300 cursor-pointer">
                        <div class="bg-gradient-to-br from-main-600 to-main-700 p-2.5 rounded-lg shadow-md shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-activity text-white" aria-hidden="true">
                                <path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                                </path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between gap-3 mb-2">
                                <div>
                                    <p class="text-gray-800 dark:text-gray-200 group-hover:text-main-600 transition-colors mb-1">
                                        ورشة البرمجة المتقدمة
                                    </p><span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full">نشاط</span>
                                </div><span class="px-3 py-1 rounded-full text-xs whitespace-nowrap bg-gradient-to-r from-info-500 to-info-600 text-white shadow-md">
                                    <span class="mr-1">🔜</span>قريباً
                                </span>
                            </div>
                            <div class="flex items-center gap-3 flex-wrap mt-2">
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-building2 lucide-building-2 text-gray-400" aria-hidden="true">
                                        <path d="M10 12h4"></path>
                                        <path d="M10 8h4"></path>
                                        <path d="M14 21v-3a2 2 0 0 0-4 0v3"></path>
                                        <path d="M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"></path>
                                        <path d="M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"></path>
                                    </svg><span>نادي التقنية</span>
                                </div>
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-map-pin text-gray-400" aria-hidden="true">
                                        <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                                        </path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg><span>قاعة المؤتمرات</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                         height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock text-gray-400"
                                         aria-hidden="true">
                                        <path d="M12 6v6l4 2"></path>
                                        <circle cx="12" cy="12" r="10"></circle>
                                    </svg><span class="text-gray-400 text-xs">2026-01-15</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="group flex items-start gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-main-600/30 dark:hover:border-main-600/50 hover:bg-gradient-to-r hover:from-main-600/5 hover:to-transparent dark:hover:from-main-600/10 transition-all duration-300 cursor-pointer">
                        <div class="bg-gradient-to-br from-info-500 to-info-600 p-2.5 rounded-lg shadow-md shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-users text-white" aria-hidden="true">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                <path d="M16 3.128a4 4 0 0 1 0 7.744"></path>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between gap-3 mb-2">
                                <div>
                                    <p class="text-gray-800 dark:text-gray-200 group-hover:text-main-600 transition-colors mb-1">
                                        نادي الذكاء الاصطناعي
                                    </p><span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full">نادي</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 flex-wrap mt-2">
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-building2 lucide-building-2 text-gray-400" aria-hidden="true">
                                        <path d="M10 12h4"></path>
                                        <path d="M10 8h4"></path>
                                        <path d="M14 21v-3a2 2 0 0 0-4 0v3"></path>
                                        <path d="M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"></path>
                                        <path d="M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"></path>
                                    </svg><span>كلية علوم الحاسب</span>
                                </div>
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-user-check text-gray-400" aria-hidden="true">
                                        <path d="m16 11 2 2 4-4"></path>
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="9" cy="7" r="4"></circle>
                                    </svg><span>د. أحمد العمري</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="group flex items-start gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-main-600/30 dark:hover:border-main-600/50 hover:bg-gradient-to-r hover:from-main-600/5 hover:to-transparent dark:hover:from-main-600/10 transition-all duration-300 cursor-pointer">
                        <div class="bg-gradient-to-br from-lavender-500 to-lavender-600 p-2.5 rounded-lg shadow-md shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-file-text text-white" aria-hidden="true">
                                <path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z">
                                </path>
                                <path d="M14 2v5a1 1 0 0 0 1 1h5"></path>
                                <path d="M10 9H8"></path>
                                <path d="M16 13H8"></path>
                                <path d="M16 17H8"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between gap-3 mb-2">
                                <div>
                                    <p class="text-gray-800 dark:text-gray-200 group-hover:text-main-600 transition-colors mb-1">
                                        تقرير الأنشطة الشهرية
                                    </p><span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full">تقرير</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 flex-wrap mt-2">
                                <div class="flex items-center gap-1.5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                         height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock text-gray-400"
                                         aria-hidden="true">
                                        <path d="M12 6v6l4 2"></path>
                                        <circle cx="12" cy="12" r="10"></circle>
                                    </svg><span class="text-gray-400 text-xs">2026-01-05</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="group flex items-start gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-main-600/30 dark:hover:border-main-600/50 hover:bg-gradient-to-r hover:from-main-600/5 hover:to-transparent dark:hover:from-main-600/10 transition-all duration-300 cursor-pointer">
                        <div class="bg-gradient-to-br from-main-600 to-main-700 p-2.5 rounded-lg shadow-md shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-activity text-white" aria-hidden="true">
                                <path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                                </path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between gap-3 mb-2">
                                <div>
                                    <p class="text-gray-800 dark:text-gray-200 group-hover:text-main-600 transition-colors mb-1">مسابقة كرة القدم</p>
                                    <span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full">نشاط</span>
                                </div><span class="px-3 py-1 rounded-full text-xs whitespace-nowrap bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-md">
                                    <span class="mr-1">⏳</span>قيد التنفيذ
                                </span>
                            </div>
                            <div class="flex items-center gap-3 flex-wrap mt-2">
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-building2 lucide-building-2 text-gray-400" aria-hidden="true">
                                        <path d="M10 12h4"></path>
                                        <path d="M10 8h4"></path>
                                        <path d="M14 21v-3a2 2 0 0 0-4 0v3"></path>
                                        <path d="M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"></path>
                                        <path d="M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"></path>
                                    </svg><span>نادي الرياضة</span>
                                </div>
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-map-pin text-gray-400" aria-hidden="true">
                                        <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                                        </path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg><span>الملعب الرئيسي</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                         height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock text-gray-400"
                                         aria-hidden="true">
                                        <path d="M12 6v6l4 2"></path>
                                        <circle cx="12" cy="12" r="10"></circle>
                                    </svg><span class="text-gray-400 text-xs">2026-01-10</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="group flex items-start gap-3 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-main-600/30 dark:hover:border-main-600/50 hover:bg-gradient-to-r hover:from-main-600/5 hover:to-transparent dark:hover:from-main-600/10 transition-all duration-300 cursor-pointer">
                        <div class="bg-gradient-to-br from-main-600 to-main-700 p-2.5 rounded-lg shadow-md shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                 class="lucide lucide-activity text-white" aria-hidden="true">
                                <path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                                </path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between gap-3 mb-2">
                                <div>
                                    <p class="text-gray-800 dark:text-gray-200 group-hover:text-main-600 transition-colors mb-1">
                                        معرض الفنون التشكيلية
                                    </p><span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded-full">نشاط</span>
                                </div><span class="px-3 py-1 rounded-full text-xs whitespace-nowrap bg-gradient-to-r from-main-600 to-main-700 text-white shadow-md">
                                    <span class="mr-1">✅</span>مكتمل
                                </span>
                            </div>
                            <div class="flex items-center gap-3 flex-wrap mt-2">
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-building2 lucide-building-2 text-gray-400" aria-hidden="true">
                                        <path d="M10 12h4"></path>
                                        <path d="M10 8h4"></path>
                                        <path d="M14 21v-3a2 2 0 0 0-4 0v3"></path>
                                        <path d="M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2"></path>
                                        <path d="M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16"></path>
                                    </svg><span>نادي الفنون</span>
                                </div>
                                <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-300 text-sm bg-gray-50 dark:bg-gray-700 px-2.5 py-1 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="lucide lucide-map-pin text-gray-400" aria-hidden="true">
                                        <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                                        </path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg><span>قاعة المعارض</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                         height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock text-gray-400"
                                         aria-hidden="true">
                                        <path d="M12 6v6l4 2"></path>
                                        <circle cx="12" cy="12" r="10"></circle>
                                    </svg><span class="text-gray-400 text-xs">2025-12-28</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    $(function () {

      const arabicDays = ['الأحد', 'الإثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'];
      const englishDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

      const currentDayEl = document.getElementById('current-day');
      const currentDateEl = document.getElementById('current-date');
      const currentTimeEl = document.getElementById('current-time');

      function updateDateTime() {
        const now = new Date();

        // Update day name (Arabic)
        if(document.documentElement.lang === 'ar'){
          dayName = arabicDays[now.getDay()];
        } else {
          dayName = englishDays[now.getDay()];
        }
        if (currentDayEl) currentDayEl.textContent = dayName;

        // Update date in format: day/month/year
        const day = now.getDate();
        const month = now.getMonth() + 1;
        const year = now.getFullYear();
        if (currentDateEl) currentDateEl.textContent = `${day}/${month}/${year}`;

        // Update time in format: HH:MM:SS
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        if (currentTimeEl) currentTimeEl.textContent = `${hours}:${minutes}:${seconds}`;
      }

      // Initial call
      updateDateTime();

      // Update every second for real-time clock
      setInterval(updateDateTime, 1000);

      // ==================== Chart Configuration ====================
      // Data for different years
      const chartDataByYear = {
        2026: {
          activities: [12, 15, 18, 22, 28, 32, 35, 30, 38, 42, 40, 45],
          clubs: [8, 10, 12, 13, 15, 15, 18, 20, 22, 25, 28, 30],
          reports: [5, 7, 9, 11, 14, 16, 18, 20, 22, 25, 23, 28]
        },
        2025: {
          activities: [10, 12, 14, 18, 22, 26, 30, 28, 32, 36, 35, 40],
          clubs: [6, 8, 10, 11, 13, 14, 16, 18, 20, 22, 25, 27],
          reports: [4, 5, 7, 9, 11, 13, 15, 17, 19, 21, 20, 24]
        },
        2024: {
          activities: [8, 10, 12, 15, 18, 21, 25, 23, 27, 30, 28, 33],
          clubs: [5, 6, 8, 9, 11, 12, 14, 15, 17, 19, 21, 23],
          reports: [3, 4, 5, 7, 9, 10, 12, 14, 15, 17, 16, 19]
        },
        2023: {
          activities: [6, 8, 10, 12, 14, 17, 20, 18, 22, 25, 23, 27],
          clubs: [4, 5, 6, 7, 9, 10, 11, 12, 14, 15, 17, 19],
          reports: [2, 3, 4, 5, 7, 8, 9, 11, 12, 14, 13, 15]
        },
        2022: {
          activities: [4, 5, 7, 9, 11, 13, 15, 14, 17, 19, 18, 21],
          clubs: [3, 4, 5, 5, 7, 8, 9, 10, 11, 12, 14, 15],
          reports: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 12]
        }
      };

      const months = ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو', 'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'];
      const englishMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

      let mainChart = null;

      function getChartColors() {
        const isDark = document.documentElement.classList.contains('dark');
        return {
          gridColor: isDark ? '#374151' : '#E5E7EB',
          textColor: isDark ? '#D1D5DB' : '#6B7280',
          tooltipBg: isDark ? '#1f2937' : '#ffffff',
          tooltipTitle: isDark ? '#ffffff' : '#1f2937',
          tooltipBorder: isDark ? '#374151' : '#1e6b3e'
        };
      }

      function createChart(year) {
        const ctx = document.getElementById('mainStatsChart');
        if (!ctx || !window.Chart) return;

        const colors = getChartColors();
        const data = chartDataByYear[year] || chartDataByYear[2026];

        // Destroy existing chart if exists
        if (mainChart) {
          mainChart.destroy();
        }

        // Create striped patterns using patternomaly
        const activitiesPattern = pattern.draw('diagonal-right-left', '#1570EF'); // info with diagonal stripes
        const clubsPattern = pattern.draw('disc', '#DBA102'); // Gold with diagonal stripes
        const reportsPattern = pattern.draw('diagonal', '#1B8354'); // Main with diagonal stripes

        mainChart = new Chart(ctx.getContext('2d'), {
          type: 'bar',
          data: {
            labels: document.documentElement.lang === 'ar' ? months : englishMonths,
            datasets: [
              {
                label: 'الأندية',
                data: data.clubs,
                backgroundColor: activitiesPattern,
                borderColor: '#1570EF',
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false,
              },
              {
                label: 'الأنشطة',
                data: data.activities,
                backgroundColor: clubsPattern,
                borderColor: '#DBA102',
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false,
              },
              {
                label: 'التقارير',
                data: data.reports,
                backgroundColor: reportsPattern,
                borderColor: '#1B8354',
                borderWidth: 1,
                borderRadius: 4,
                borderSkipped: false,
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
              mode: 'index',
              intersect: false,
            },
            animation: {
              duration: 800,
              easing: 'easeOutQuart',
            },
            plugins: {
              legend: {
                display: true,
                position: 'bottom',
                rtl: true,
                labels: {
                  color: colors.textColor,
                  padding: 20,
                  usePointStyle: true,
                  pointStyle: 'rectRounded',
                  font: {
                    size: 12,
                    family: 'IBM Plex Sans Arabic'
                  }
                }
              },
              tooltip: {
                enabled: true,
                rtl: true,
                backgroundColor: colors.tooltipBg,
                titleColor: colors.tooltipTitle,
                bodyColor: colors.textColor,
                borderColor: colors.tooltipBorder,
                borderWidth: 2,
                padding: 12,
                cornerRadius: 12,
                boxPadding: 6,
                usePointStyle: true,
                titleFont: {
                  size: 14,
                  weight: 'bold',
                  family: 'IBM Plex Sans Arabic'
                },
                bodyFont: {
                  size: 13,
                  family: 'IBM Plex Sans Arabic'
                },
                callbacks: {
                  title: function(context) {
                    return context[0].label;
                  },
                  label: function(context) {
                    return ' ' + context.dataset.label + ': ' + context.parsed.y;
                  }
                }
              }
            },
            scales: {
              x: {
                grid: {
                  color: colors.gridColor,
                  drawBorder: false
                },
                ticks: {
                  color: colors.textColor,
                  font: {
                    size: 11,
                    family: 'IBM Plex Sans Arabic'
                  }
                }
              },
              y: {
                grid: {
                  color: colors.gridColor,
                  drawBorder: false
                },
                ticks: {
                  color: colors.textColor,
                  font: {
                    size: 12,
                    family: 'IBM Plex Sans Arabic'
                  }
                },
                beginAtZero: true
              }
            }
          }
        });
      }

      // Initialize chart with current year
      createChart(2026);

      // Custom Year Dropdown Handling
      const yearDropdownBtn = document.getElementById('yearDropdownBtn');
      const yearDropdownMenu = document.getElementById('yearDropdownMenu');
      const yearDropdownArrow = document.getElementById('yearDropdownArrow');
      const yearSelectValue = document.getElementById('yearSelectValue');
      const yearOptions = document.querySelectorAll('.year-option');

      let isDropdownOpen = false;
      let currentSelectedYear = 2026;

      function toggleDropdown() {
        isDropdownOpen = !isDropdownOpen;
        yearDropdownMenu.classList.toggle('hidden', !isDropdownOpen);
        yearDropdownArrow.classList.toggle('rotate-180', isDropdownOpen);
      }

      function closeDropdown() {
        isDropdownOpen = false;
        yearDropdownMenu.classList.add('hidden');
        yearDropdownArrow.classList.remove('rotate-180');
      }

      function selectYear(year) {
        currentSelectedYear = parseInt(year);
        yearSelectValue.textContent = year;
        createChart(currentSelectedYear);
        closeDropdown();
      }

      // Toggle dropdown on button click
      if (yearDropdownBtn) {
        yearDropdownBtn.addEventListener('click', function(e) {
          e.stopPropagation();
          toggleDropdown();
        });
      }

      // Handle year option selection
      yearOptions.forEach(option => {
        option.addEventListener('click', function(e) {
          e.stopPropagation();
          selectYear(this.dataset.value);
        });
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!yearDropdownBtn?.contains(e.target) && !yearDropdownMenu?.contains(e.target)) {
          closeDropdown();
        }
      });

      // Close dropdown on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeDropdown();
        }
      });

      // Update chart on theme change
      const themeToggle = document.getElementById('theme-toggle');
      const themeToggleMobile = document.getElementById('theme-toggle-mobile');

      function updateChartTheme() {
        setTimeout(() => {
          createChart(currentSelectedYear);
        }, 100);
      }

      if (themeToggle) {
        themeToggle.addEventListener('click', updateChartTheme);
      }
      if (themeToggleMobile) {
        themeToggleMobile.addEventListener('click', updateChartTheme);
      }
    });
</script>